<!--==================================================
 * File:    index.html
 * Author:  Matthew Christensen
 * Date:    Winter 2018

 * Description: Webpage for the Scriptures, Mapped (Project 1)
*-->
<!DOCTYPE tml>

<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The Scriptures, Mapped</title>
    <meta name="description" content="The LDS Standard Works, Mapped">
    <meta name="author" content="Stephen W. Liddle">

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="javascript/scriptures.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
<body>
    <div id="header">
        <div id="crumb"></div>
        <div id="navchapter"></div>
        <div id="centerhead" class="hidden-xs">
            <div id="title">The Scriptures, Mapped</div>
            <div id="subtitle">By Matthew Christensen</div>
        </div>
    </div>
    <div id="content">
        <div id="scriptures"><div id="scrip1" class="activescrip"></div><div id="scrip2" style="left: 100%;"></div></div>
        <div id="map"></div>
    </div>
    <script type="text/javascript">
    function ready(eventHandler){
        if (document.attachEvent ? document.readyState === "complete" : document.readState !== "loading") {
            eventHandler();
        } else {
            document.addEventListenser("DOMContentLoaded", eventHandler);
        }
    }
    ready(function () {
        window.addEventListener("hashchange", function () {
            let ids = location.hash.substring(1).split(":");
            if (ids.length < 3) {
                if ($("#scrip1").hasClass("activescrip")) {
                    $("#scrip1").fadeOut(500,scriptures.onHashChanged)
                } else {
                    $("#scrip2").fadeOut(500,scriptures.onHashChanged)
                }
            } else {
                scriptures.onHashChanged();
            }
        });
        scriptures.init(scriptures.onHashChanged);
    });
    // let map;
    function initMap() {
        let uluru = {lat: 31.7683, lng: 35.2137};
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 7,
          center: uluru
        //   maxZoom: 15
        });
    }
    function showLocation (geotagId, placename, latitude, longitude, viewLatitude, viewLongitude, viewTilt, viewRoll, viewAltitude, viewHeading) {
        scriptures.showLocation(geotagId, placename, latitude, longitude, viewLatitude, viewLongitude, viewTilt, viewRoll, viewAltitude, viewHeading);
    }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDuPLtrF4MskjIwthQz0jITvbY3gt3kOH0&callback=initMap">
    </script>
</body>
</html>
